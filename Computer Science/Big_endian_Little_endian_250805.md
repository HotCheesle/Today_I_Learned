# Big-endian Little-endian
---
### 컴퓨터가 자료를 저장하는 방법
- 컴퓨터는 데이터를 0과 1로 이루어진 이진수로 자료를 저장한다. 이러한 이진수를 메모리에 순차적으로 저장하는데 1byte크기의 메모리에 0x6B라는 데이터를 저장하면 메모리에 다음과 같이 저장된다.


    |bit 번호| 7 | 6 | 5 | 4 | 3 | 2 | 1 | 0 |
    |--------|---|---|---|---|---|---|---|---|
    |  0x6B  | 0 | 1 | 1 | 0 | 1 | 0 | 1 | 1 |
    |        |MSB|   |   |   |   |   |   |LSB|

- 위에서 가장 낮은 비트 번호를 가진 비트를 LSB(Least Significant Bit) 라고 하고 가장 큰 비트 번호를 가진 비트를 MSB(Most Significant Bit)라고 한다. 
- 이는 1byte보다 더 큰 데이터에도 동일하게 적용된다.

- 여러 비트 단위의 데이터를 저장할 때는 크게 두가지 방법으로 나뉜다. MSB를 먼저 저장하는 방법과 LSB를 먼저 저장하는 방법이 있다.
- MSB를 먼저 저장하는 방식이 Big-endian
- LSB를 먼저 저장하는 방식이 Little-endian이다. 
- 예를 들어 0x12345678 이라는 데이터를 메모리에 저장하는 상황이라면

    | 메모리 주소 |0x0100|0x0102|0x0104|0x0106|
    |-------------|------|------|------|------|
    |  Big-endian | 0x12 | 0x34 | 0x56 | 0x78 |
    |Little-endian| 0x78 | 0x56 | 0x34 | 0x12 |

- Big-endain은 메모리에 상위 바이트를 먼저 저장한다. 따라서 메모리에 12, 34, 56, 78 순서로 저장될 것이다.
- 반면 Little-endian은 메모리에 하위 바이트를 먼저 저장한다. 따라서 메모리에 78, 56, 34, 12 순서로 저장될 것이다. 
- 이때 주의해야 할 점이 Little-endian이더라도 byte내의 비트 순서는 바뀌지 않는다는 것이다. 하위 바이트를 먼저 저장하는 것이지 내부의 비트를 뒤집어서 저장하지는 않는다. 
---
- 이러한 저장방식은 CPU 제조사에 의해 달리지며 성능상에서 유의미한 차이는 없다. 
- 하지만 네트워크 상에서는 서로 다른 컴퓨터와 통신을 해야한다. 이때 서로의 데이터 저장방식이 다르다면 서로 소통이 되지 않을 것이다. 
- 이러한 문제를 해결하기 위해 네트워크상의 모든 소통은 Big-endian을 기준으로 한다. 이를 Network byte order라고 하고 호스트가 사용하는 Big 또는 Little-endian을 Host byte order라고 한다. 
- 네트워크 통신을 할때 호스트는 자신의 패킷을 그대로 내보내는 것이 아닌 Network byte order (Big-endian)에 맞춰 변환을 한 후 내보내고, 받을 때도 자신의 Host byte order로 변환하여 읽는다.